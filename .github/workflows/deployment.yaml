name: site deployment
on:
    push:
        branches:
            - master
            - test
jobs:
    preparation:

        if: github.ref_name == 'test'
        runs-on: self-hosted
        steps:
            - name: print the github object
              env:
                WHATEVER: ${{ toJSON(github) }}
              run: echo $WHATEVER

            - name: checkout the repository
              uses: actions/checkout@v4

            - name: run a bunch of scripts
              run: bash _devops/runscript.sh 

            - name: set up the web app
              run: bash _devops/setupweb.sh


        

